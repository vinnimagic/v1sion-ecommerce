{"ast":null,"code":"import{useContext}from'react';import{useNavigate}from'react-router-dom';import Cart from'../components/Cart';import{CartContext}from'../context/CartContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Checkout=()=>{const{cart,clearCart,addOrderToHistory}=useContext(CartContext);const navigate=useNavigate();const handleCheckout=()=>{if(cart.length===0)return;const order={id:Date.now(),date:new Date().toLocaleString(),items:[...cart],total:cart.reduce((sum,item)=>sum+item.price*item.quantity,0)};addOrderToHistory(order);clearCart();navigate('/history');};return/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Finalizar Compra\"}),/*#__PURE__*/_jsx(Cart,{}),cart.length>0&&/*#__PURE__*/_jsx(\"button\",{onClick:handleCheckout,className:\"btn\",children:\"Confirmar Pedido\"})]});};export default Checkout;","map":{"version":3,"names":["useContext","useNavigate","Cart","CartContext","jsx","_jsx","jsxs","_jsxs","Checkout","cart","clearCart","addOrderToHistory","navigate","handleCheckout","length","order","id","Date","now","date","toLocaleString","items","total","reduce","sum","item","price","quantity","className","children","onClick"],"sources":["/home/vinicius/Área de trabalho/loja-virtual_react/src/pages/Checkout.jsx"],"sourcesContent":["import { useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport Cart from '../components/Cart';\nimport { CartContext } from '../context/CartContext';\n\nconst Checkout = () => {\n  const { cart, clearCart, addOrderToHistory } = useContext(CartContext);\n  const navigate = useNavigate();\n\n  const handleCheckout = () => {\n    if (cart.length === 0) return;\n\n    const order = {\n      id: Date.now(),\n      date: new Date().toLocaleString(),\n      items: [...cart],\n      total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0)\n    };\n\n    addOrderToHistory(order);\n    clearCart();\n    navigate('/history');\n  };\n\n  return (\n    <div className=\"checkout-page\">\n      <h1>Finalizar Compra</h1>\n      <Cart />\n      {cart.length > 0 && (\n        <button onClick={handleCheckout} className=\"btn\">\n          Confirmar Pedido\n        </button>\n      )}\n    </div>\n  );\n};\n\nexport default Checkout;"],"mappings":"AAAA,OAASA,UAAU,KAAQ,OAAO,CAClC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,IAAI,KAAM,oBAAoB,CACrC,OAASC,WAAW,KAAQ,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAErD,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAEC,IAAI,CAAEC,SAAS,CAAEC,iBAAkB,CAAC,CAAGX,UAAU,CAACG,WAAW,CAAC,CACtE,KAAM,CAAAS,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAAY,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAIJ,IAAI,CAACK,MAAM,GAAK,CAAC,CAAE,OAEvB,KAAM,CAAAC,KAAK,CAAG,CACZC,EAAE,CAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CACdC,IAAI,CAAE,GAAI,CAAAF,IAAI,CAAC,CAAC,CAACG,cAAc,CAAC,CAAC,CACjCC,KAAK,CAAE,CAAC,GAAGZ,IAAI,CAAC,CAChBa,KAAK,CAAEb,IAAI,CAACc,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAIC,IAAI,CAACC,KAAK,CAAGD,IAAI,CAACE,QAAS,CAAE,CAAC,CACzE,CAAC,CAEDhB,iBAAiB,CAACI,KAAK,CAAC,CACxBL,SAAS,CAAC,CAAC,CACXE,QAAQ,CAAC,UAAU,CAAC,CACtB,CAAC,CAED,mBACEL,KAAA,QAAKqB,SAAS,CAAC,eAAe,CAAAC,QAAA,eAC5BxB,IAAA,OAAAwB,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzBxB,IAAA,CAACH,IAAI,GAAE,CAAC,CACPO,IAAI,CAACK,MAAM,CAAG,CAAC,eACdT,IAAA,WAAQyB,OAAO,CAAEjB,cAAe,CAACe,SAAS,CAAC,KAAK,CAAAC,QAAA,CAAC,kBAEjD,CAAQ,CACT,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAArB,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}